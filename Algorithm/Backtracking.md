# ë°±íŠ¸ë˜í‚¹(Backtracking)

> `ë°±íŠ¸ë˜í‚¹(Backtracking) ì•Œê³ ë¦¬ì¦˜`ì€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í•´ë¥¼ ì°¾ê¸° ìœ„í•´ì„œ ì„ íƒ ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ì‹œë„í•˜ë©°, ì„ íƒí•œ ê²½ë¡œê°€ í•´ê²°ì±…ìœ¼ë¡œ ì´ì–´ì§€ì§€ ì•Šìœ¼ë©´ ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°€ì„œ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì‹œë„í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ë°±íŠ¸ë˜í‚¹ ì•Œê³ ë¦¬ì¦˜ì€ [ê¹Šì´ ìš°ì„  íƒìƒ‰(DFS, Depth First Search)](./DFS%26BFS.md)ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

## â—íŠ¹ì§•

![image](https://user-images.githubusercontent.com/37105602/235315908-55a6ca39-68aa-4fb8-9173-ed32411544c5.png)

1. ì œì•½ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ëª¨ë“  í•´ë¥¼ ì°¾ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.
2. ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ì‹œë„í•˜ë©°, ì¼ë‹¨ í•´ê²°ì±…ìœ¼ë¡œ ì´ì–´ì§€ì§€ ì•Šìœ¼ë©´ ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°€ì„œ ë‹¤ë¥¸ ê²½ìš°ë¥¼ ì‹œë„í•©ë‹ˆë‹¤.
3. ë¬¸ì œì˜ í¬ê¸°ê°€ ì»¤ì§ˆìˆ˜ë¡ ë¶ˆí•„ìš”í•œ ê³„ì‚°ì´ ë§ì•„ì§€ê¸° ë•Œë¬¸ì—, ì ì ˆí•œ `ê°€ì§€ì¹˜ê¸°(pruning) ê¸°ë²•`ì´ í•„ìš”í•©ë‹ˆë‹¤.
4. ë°±íŠ¸ë˜í‚¹ì€ ë¶ˆí•„ìš”í•œ íƒìƒ‰ì„ í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì—ì„œ, ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰í•˜ëŠ” `DFS ì•Œê³ ë¦¬ì¦˜`ê³¼ëŠ” ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤.

**â€» ê°€ì§€ì¹˜ê¸°ë¥¼ ì–¼ë§ˆë‚˜ ì˜í•˜ëŠëƒì— ë”°ë¼ í˜¸ìœ¨ì„±ì´ ê²°ì •ë©ë‹ˆë‹¤.**

## â—ë°±íŠ¸ë˜í‚¹ ì•Œê³ ë¦¬ì¦˜

```Python
Backtrack(x)
    if x is not a solution
        return false
    if x is a new solution
        add to list of solutions
    backtrack(expand x)
```
## ğŸ“Œ ì˜ˆì œ (Baekjoon)
[ë°±ì¤€ - Nê³¼ M(2)](https://www.acmicpc.net/problem/15650)

>ë¬¸ì œ
![image](https://user-images.githubusercontent.com/37105602/235316709-1198d71b-95c1-4c32-8fd6-dcf330ace36e.png)

>í’€ì´

ì´ ë¬¸ì œëŠ” nê°œì˜ ìì—°ìˆ˜ ì¤‘ì—ì„œ ì¤‘ë³µ ì—†ì´ mê°œë¥¼ ê³ ë¥´ëŠ” ëª¨ë“  ê²½ìš°ë¥¼ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

`combinations í•¨ìˆ˜`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°í•©ìœ¼ë¡œ ì‰½ê²Œ í’€ì´ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ,  
`ë°±íŠ¸ë˜í‚¹`ì„ ì´ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

### ì½”ë“œ(Python)
```Python
n, m = map(int, input().split())

def backtracking(selected, depth):
    # ê°œìˆ˜ê°€ mê³¼ ê°™ìœ¼ë©´ ì¶œë ¥
    if depth == m:
        print(' '.join(map(str, selected)))
        return
    
    # í˜„ì¬ê¹Œì§€ ì„ íƒí•œ ìˆ«ìë“¤ ì¤‘ ê°€ì¥ í° ìˆ«ìë³´ë‹¤ í° ìˆ«ìë“¤ë§Œ ì„ íƒ
    start = selected[-1] + 1 if selected else 1
    for i in range(start, n+1):
        backtracking(selected + [i], depth + 1)

backtracking([], 0)
```
